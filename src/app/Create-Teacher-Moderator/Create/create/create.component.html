<div class="container mt-3 my-3" dir="ltr">
  <div class="form-container">
    <h2 class="mb-6 font-24-bold text-center">Create a teacher or manager now</h2>
    <hr>
    <form [formGroup]="createForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
      <div class="row mb-2">
        <label for="firstName" class="form-label">Name <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-solid fa-user"></i></span>
          <input type="text" id="firstName" class="form-control" placeholder="enter name " formControlName="name">
        </div>
        <div *ngIf="f['name'].invalid && (f['name'].dirty && f['name'].touched || submitted)" class="text-danger">
          <small *ngIf="f['name'].errors?.['required']">name required.</small>
          <small *ngIf="f['name'].errors?.['pattern']">The name must contain only letters.</small>
        </div>
      </div>
      <div class="mb-2">
        <label for="email" class="form-label">Email<span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-envelope"></i></span>
          <input type="email" id="email" class="form-control" placeholder="enter email "
            formControlName="email">
        </div>
        <div *ngIf="f['email'].invalid && (f['email'].dirty && f['email'].touched ||submitted)" class="text-danger">
          <small *ngIf="f['email'].errors?.['required']">email required.</small>
          <small *ngIf="f['email'].errors?.['email']">   email not invalid</small>
        </div>
      </div>

      <div class="mb-2">
        <label for="password" class="form-label"> Password <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-lock"></i></span>
          <input [type]="passwordFieldType" id="password" class="form-control" placeholder=" enter password"
            formControlName="password">
          <span class="input-group-text" (click)="togglePasswordVisibility()" style="cursor: pointer;">
            <i [class]="eyeIcon"></i>
          </span>
        </div>
        <div *ngIf="f['password'].invalid && (f['password'].dirty && f['password'].touched ||submitted)" class="text-danger">
          <small *ngIf="f['password'].errors?.['required']">password required.</small>
          <small *ngIf="f['password'].errors?.['minlength']">Password must contain at least 6 characters.</small>
          <small *ngIf="f['password'].errors?.['pattern']">The password must contain an uppercase letter, a lowercase letter, a number, and a special character.</small>
        </div>
      </div>

      <div class="mb-2">
        <label for="password_confirmation" class="form-label">  Confirm Password <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-lock"></i></span>
          <input [type]="confirmPasswordFieldType" id="confirmPassword" class="form-control"
            placeholder="  enter Confirm Password" formControlName="password_confirmation">
          <span class="input-group-text" (click)="toggleConfirmPasswordVisibility()" style="cursor: pointer;">
            <i [class]="confirmEyeIcon"></i>
          </span>
        </div>
        <div
          *ngIf="createForm.errors?.['passwordMismatch'] && (f['password_confirmation'].dirty ||submitted ||  f['password_confirmation'].touched)"
          class="text-danger">
          <small>confirm password not match</small>
        </div>
      </div>
      <div class="mb-2">
        <label for="nationalId" class="form-label"> National ID <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-id-card"></i></span>
          <input type="text" id="nationalId" class="form-control" placeholder="enter national Id"
            formControlName="national_id">
        </div>
        <div *ngIf="f['national_id'].invalid && (f['national_id'].dirty && f['national_id'].touched || submitted)"
          class="text-danger">
          <small *ngIf="f['national_id'].errors?.['required']">national Id required.</small>
          <small *ngIf="f['national_id'].errors?.['pattern']">national Id incorrect.</small>
        </div>
      </div>

      <div class="mb-2">
        <label for="gender" class="form-label">Gender <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-venus-mars"></i></span>
          <select id="gender" class="form-select" formControlName="gender">
            <option value="" disabled selected>Choose</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
        </div>
        <div *ngIf="f['gender'].invalid && (f['gender'].dirty || f['gender'].touched ||submitted)" class="text-danger">
          <small *ngIf="f['gender'].errors?.['required']">gender required</small>
        </div>
      </div>
      <div class="mb-2">
        <label for="gender" class="form-label">Organizer<span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fa-solid fa-user"></i></span>
          <select id="role_id" class="form-select" formControlName="role_id">
            <option value="" disabled selected>choose role </option>
            <option value="Teacher">Teacher</option>
            <option value="Moderator">Moderator</option>
          </select>
        </div>
        <div *ngIf="f['role_id'].invalid && (f['role_id'].dirty || f['role_id'].touched)" class="text-danger">
          <small *ngIf="f['role_id'].errors?.['required']"> role required.</small>
        </div>
      </div>
      <div *ngIf="createForm.get('role_id')?.value === 'Teacher'">
        <div class="mb-2">
          <label for="title" class="form-label"> Title <span class="text-danger">*</span></label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-id-badge"></i></span>
            <input type="text" id="title" class="form-control" placeholder="enter title" formControlName="title">
          </div>
          <div *ngIf="f['title'].invalid && (f['title'].dirty && f['title'].touched || submitted)" class="text-danger">
            <small *ngIf="f['title'].errors?.['required']">  title required</small>
          </div>
        </div>
      
        <div class="mb-3">
          <label for="description" class="form-label"> Description<span class="text-danger">*</span></label>
          <div class="input-group">
            <span class="input-group-text"><i class="fas fa-align-left"></i></span>
            <textarea id="description" class="form-control" placeholder="enter description  " formControlName="description"></textarea>
          </div>
          <div *ngIf="f['description'].invalid && (f['description'].dirty && f['description'].touched || submitted)" class="text-danger">
            <small *ngIf="f['description'].errors?.['required']" >  description required</small>
          </div>
        </div>
      </div>

      <div class="mb-3">
        <label for="address" class="form-label">Address <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
          <input type="text" id="address" class="form-control" placeholder="enter address"
            formControlName="address">
        </div>
        <div *ngIf="f['address'].invalid && (f['address'].dirty && f['address'].touched || submitted)" class="text-danger">
          <small *ngIf="f['address'].errors?.['required']">address required.</small>
        </div>
      </div>

      <div class="mb-3">
        <label for="phone" class="form-label">Phone <span class="text-danger">*</span></label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-phone"></i></span>
          <input type="text" id="phone" class="form-control" placeholder="enter phone" formControlName="phone">
        </div>
        <div *ngIf="f['phone'].invalid && (f['phone'].dirty && f['phone'].touched || submitted)" class="text-danger">
          <small *ngIf="f['phone'].errors?.['required']">phone required.</small>
          <small *ngIf="f['phone'].errors?.['pattern']">phone not valid.</small>
        </div>
      </div>

      <div class="mb-3">
        <label for="profilePicture" class="form-label">
      Image <span class="text-danger">*</span>
        </label>
        <div class="input-group">
          <span class="input-group-text"><i class="fas fa-image"></i></span>
          <input type="file" id="image" formControlName="image" class="form-control" (change)="onFileChange($event)" />
        </div>
        <div *ngIf="f['image'].invalid && (f['image'].dirty && f['image'].touched || submitted)" class="text-danger">
          <small *ngIf="f['image'].errors?.['required']">image required.</small>
          <small *ngIf="f['image'].errors?.['pattern']">Please upload a valid photo (PNG, JPG, JPEG).</small>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" class="btn main-btn rounded-5 ms-5 custom-button w-25">Add  </button>
        <button routerLink="/allorganizer" class="btn main-btn rounded-5 me-5 custom-button w-25">All Organiger </button>
      </div>
    </form>


  </div>
</div>